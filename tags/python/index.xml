<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Python on Alitux</title><link>https://alitux.com.ar/tags/python/</link><description>Recent content in Python on Alitux</description><generator>Hugo</generator><language>es</language><copyright>Copyleft 2025. Nothing reserved. Feel free to share and share alike.</copyright><lastBuildDate>Sun, 05 Jan 2025 11:19:13 -0300</lastBuildDate><atom:link href="https://alitux.com.ar/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>Conociendo Typer</title><link>https://alitux.com.ar/posts/porque-usar-typer/</link><pubDate>Sun, 05 Jan 2025 11:19:13 -0300</pubDate><guid>https://alitux.com.ar/posts/porque-usar-typer/</guid><description>&lt;p>Cuando se empieza a avanzar en el mundo devops siempre surge la necesidad de automatizar tareas y ac치 uno puede tirar de bash, de lua, de ruby, etc.
En mi caso, trato de usar Python para casi todo lo que se pueda. Seguramente lo primero que vamos a encontrar es la libreria &lt;a href="https://docs.python.org/3/library/argparse.html">argparse&lt;/a> que es una de las m치s usadas en Python. Sin embargo, aunque es muy potente y flexible, deja muchas cuestiones libradas al criterio del desarrollador y carece de una buena forma de hacer validaciones o el c칩digo a medida que crece tiende a enredarse un poco. Y aclaro para mi es una excelente opci칩n para hacer un CLI cuando se trata de proyectos simples, pero al d칤a de la fecha lo ideal es algo que nos permita crear y mantener un c칩digo limpio, modular y con est치ndares modernos. Y ac치 es donde entra Typer.&lt;/p></description></item><item><title>Nombres de Usuarios 칔nicos en Django</title><link>https://alitux.com.ar/posts/usuarios-unicos-django/</link><pubDate>Sat, 13 Jan 2024 11:19:13 -0300</pubDate><guid>https://alitux.com.ar/posts/usuarios-unicos-django/</guid><description>&lt;p>La creaci칩n de nombres de usuarios autogenerados en Django no est치 implementada por defecto. Es por eso que escrib칤 una simple funci칩n, que vali칠ndose de un CustomUser (No uso User por defecto ya que tengo un modelo personalizado que hereda sus propiedades desde AbstractUser) y tomando como entrada el primer nombre genera nombres de usuarios 칰nicos no predecibles. Si bien no evita ataques por fuerza bruta, mitiga el uso de diccionarios con patrones comunes.&lt;/p></description></item><item><title>Despliegue b치sico de Django con Docker, Traefik y CloudFlare</title><link>https://alitux.com.ar/posts/despliegue-basico-django-docker-traefik-cloudflare/</link><pubDate>Fri, 08 Dec 2023 11:19:13 -0300</pubDate><guid>https://alitux.com.ar/posts/despliegue-basico-django-docker-traefik-cloudflare/</guid><description>&lt;p>En el momento del despliegue de aplicaciones Django se pueden optar por diversas opciones desde la cl치sica con una VPS, pasando por Heroku, AWS o bien Docker.&lt;/p>
&lt;p>En esta entrada voy a explicar cual es el m칠todo que aplico yo para desplegar una aplicaci칩n Django utilizando mi combinaci칩n ganadora en una VPS:&lt;/p>
&lt;ul>
&lt;li>Docker&lt;/li>
&lt;li>Traefik&lt;/li>
&lt;li>CloudFlare&lt;/li>
&lt;/ul>
&lt;p>Es un tutorial que se puede tornar confuso y complejo si no ten칠s mucha experiencia con el manejo de Docker. Tambien implica tener funcionando correctamente Traefik. En &lt;a href="https://gitlab.com/alitux/portainer-templates/-/blob/master/stacks/traefik/docker-compose.yml">este enlace&lt;/a> les dejo la configuraci칩n que uso yo. Sugiero que lo lean y en todo caso vean como lo adaptan a sus implementaciones.&lt;/p></description></item><item><title>Cambiar T칤tulo del Tab en Odoo 15</title><link>https://alitux.com.ar/posts/cambiar-titulo-tab-odoo15/</link><pubDate>Mon, 27 Nov 2023 12:19:13 -0300</pubDate><guid>https://alitux.com.ar/posts/cambiar-titulo-tab-odoo15/</guid><description>&lt;p>Una cortita: Para cambiar el t칤tulo 춺odoo췉 que aparece en el tab de Odoo y suponiendo que lo est치n corriendo en Docker, se debe ejecutar dentro del contenedor de Odoo:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;s/zopenerp: &amp;#34;Odoo&amp;#34;/zopenerp: &amp;#34;Tunuevotitulo&amp;#34;/&amp;#39;&lt;/span> /usr/lib/python3/dist-packages/odoo/addons/web/static/src/webclient/webclient.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Y si no queremos entrar al contenedor podemos hacer:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -tiu root sed -i &lt;span class="s1">&amp;#39;s/zopenerp: &amp;#34;Odoo&amp;#34;/zopenerp: &amp;#34;Tunuevotitulo&amp;#34;/&amp;#39;&lt;/span> /usr/lib/python3/dist-packages/odoo/addons/web/static/src/webclient/webclient.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>IMPORTANTE0:&lt;/strong> No olvides en reemplazar Tunuevotitulo por el nombre quieras poner.&lt;/p>
&lt;p>&lt;strong>IMPORTANTE1:&lt;/strong> El cambio que no es permanente, esto quiere decir que si bajamos el contenedor y lo volvemos a levantar se vuelve todo a cero. Para hacer los cambios permanentes podr칤amos codear un addon o bien exponer toda la carpeta &lt;em>/usr/lib/python3/dist-packages/odoo/addons/web/static/src/webclient&lt;/em> como un volumen, pero no es una buena pr치ctica y no lo sugiero mas que para safar o fines de desarrollo.&lt;/p></description></item><item><title>Parsear texto en Python para MarkdownV2 (API Telegram)</title><link>https://alitux.com.ar/posts/parsear-texto-python-markdownv2-telegram/</link><pubDate>Tue, 07 Nov 2023 10:19:13 -0300</pubDate><guid>https://alitux.com.ar/posts/parsear-texto-python-markdownv2-telegram/</guid><description>&lt;p>Supongamos que se tiene el texto:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-code" data-lang="code">web#id=28&amp;amp;cids=1&amp;amp;menu_id=281&amp;amp;action=415&amp;amp;model=crm.lead&amp;amp;view_type=form
&lt;/code>&lt;/pre>&lt;p>Si uno intentara mandar el texto v칤a la API de Telegram la API responder칤a:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;ok&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nt">&amp;#34;error_code&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Bad Request: can&amp;#39;t parse entities: Character &amp;#39;#&amp;#39; is reserved and must be escaped with the preceding &amp;#39;\\&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Esto es porque el car치cter # es especial y hay que 춺escaparlo췉 o decirle a la API que no lo use para formatear texto. Para ello me arm칠 la siguiente funci칩n que funciona de primera con todos los caracteres especiales:&lt;/p></description></item><item><title>Agregar l칤nea con devoluci칩n en Odoo 15</title><link>https://alitux.com.ar/posts/linea-con-devolucion-odoo-15/</link><pubDate>Mon, 07 Aug 2023 11:19:13 -0300</pubDate><guid>https://alitux.com.ar/posts/linea-con-devolucion-odoo-15/</guid><description>&lt;p>Estoy armando un m칩dulo que tiene varias funcionalidades, entre ellas, una que debe generar devoluciones masivas en facturas borrador. Les dejo el siguiente Snippet que puede ser 칰til.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">odoo&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">models&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">##DATOS INICIALES&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ID_FACTURA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">14&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ID_PRODUCTO&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="c1">#IMPORTANTE: 춰ID DEL PRODUCT.TEMPLATE!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">facturas&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;account.move&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">factura&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">facturas&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">browse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ID_FACTURA&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">productos_t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;product.template&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Crear una l칤nea de factura tipo devoluci칩n con descuento&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">linea_factura&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;product_id&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">productos_t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">browse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ID_PRODUCTO&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">product_variant_id&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;Descuento por ser buena gente&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;price_unit&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;quantity&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">factura&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="s1">&amp;#39;invoice_line_ids&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">linea_factura&lt;/span>&lt;span class="p">)]})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">commit&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Es bien b치sico, pero hace lo que tiene que hacer. 游뗵&lt;/p></description></item></channel></rss>